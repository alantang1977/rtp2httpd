#RTP2HTTPD Config file

# All blank lines and lines starting with # or ; are ignored
[global]
#GLOBAL OPTIONS
#These options can be overrided by command-line switches

#VERBOSITY: 0-quiet 1-error 2-warn 3-info 4-debug (default 1)
verbosity = 1

#maximum paralell clients (default 5)
;maxclients = 5

#wheather daemonise (default no)
;daemonise = no

# UDPxy URL compatibility (default yes)
;udpxy = yes

# Hostname to check in the Host: HTTP header (default none)
;hostname = somehost.example.com

# Authentication token for HTTP requests (default none)
# When set, all HTTP requests must include r2h-token query parameter with matching value
;r2h-token = your-secret-token-here

# NAT traversal for FCC media stream
# 0: disabled, 1: NAT punchhole (maybe unreliable), 2: NAT-PMP
;fcc-nat-traversal = 0

# Local UDP port range for FCC client sockets (format: start-end, default random ports)
;fcc-listen-port-range = 40000-40100

# Status page path (default: /status)
;status-page-path = /status

# Interface to use for requesting upstream media stream (default none, which follows the routing table)
;upstream-interface-unicast = iptv
;upstream-interface-multicast = iptv

# Multicast rejoin interval in seconds (default 0, disabled)
# Set to a positive value (e.g., 150) to periodically rejoin multicast groups
# This is a compatibility workaround for networks with:
# - IGMP snooping switches that timeout without proper IGMP Query from router
# - Misconfigured network equipment that drops multicast membership
# Recommended value: 120-180 seconds (less than typical switch timeout of 260s)
# Only enable if you experience multicast stream interruptions
;mcast-rejoin-interval = 0

# Maximum number of buffers in zero-copy buffer pool (default 16384)
# Each buffer is 1536 bytes, so 16384 buffers = 24MB memory
# Increase this value to improve throughput for multi-client concurrency
;buffer-pool-max-size = 16384

# Enable video snapshot feature (default: no)
# Set to 1, yes, true, or on to enable; otherwise 0 (disabled)
# When enabled, allows clients to request video snapshots with `snapshot=1` query parameter
;video-snapshot = no

# FFmpeg executable path (default: ffmpeg, which uses system PATH)
# Specify full path if ffmpeg is not in PATH or you want to use a specific version
;ffmpeg-path = /usr/bin/ffmpeg

# Additional FFmpeg arguments (default: -hwaccel none)
# These arguments are passed to ffmpeg when generating snapshots
# Common options: -hwaccel none, -hwaccel auto, -hwaccel vaapi, -hwaccel qsv
;ffmpeg-args = -hwaccel none

[bind]
#List of address and ports to bind to, eg.
;mybox.example.net 5140
;mybox2.example.net 8000
;2001::1 http-alt

#Note that binding to port number < 1024 will
#require root privelegies and therefore is
#not recommended. (Dropping privilegies is
#not implemeted at this moment)

#below is default - all addresses, port 5140
* 5140

[services]
#Format: SERVICE_NAME protocol://url
#  - Supports UTF-8 service names (e.g., Chinese characters)
#  - For RTP streams:  SERVICE_NAME rtp://[source@]multicast_addr:port[?query]
#  - For RTSP streams: SERVICE_NAME rtsp://server:port/path[?query]
#  - IPv6 addresses should be enclosed in brackets: [2001:db8::1]
#
#Examples:
;cctv1    rtsp://10.0.0.50:8554/live/channel1?auth=token123
;cctv2    rtp://239.194.10.11:1234
;cctv3    rtp://192.0.2.1@239.194.10.13:1234
;cctv4    rtp://[2001:db8::ff00:42:8329]:1234
;广东卫视  rtp://239.194.10.15:1234
;
#Dynamic query parameter merging:
#  You can add query parameters in HTTP requests that will be merged with
#  the configured service. For example:
#  - Configured: cctv2 rtp://239.194.10.11:1234
#  - Request: http://<ip>:<port>/cctv2?fcc=10.0.0.1
#  - The fcc parameter will be applied to the stream
#
#URL encoding support:
#  Chinese and other UTF-8 characters should be URL-encoded in HTTP requests:
#  - http://<ip>:<port>/%E5%B9%BF%E4%B8%9C%E5%8D%AB%E8%A7%86 (URL-encoded "广东卫视")
