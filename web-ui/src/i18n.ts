export type Locale = "en" | "zh-Hans" | "zh-Hant";

type TranslationDict = Record<string, string>;

const base: TranslationDict = {
  title: "rtp2httpd Status",
  uptime: "Uptime",
  totalClients: "Active Clients",
  totalBandwidth: "Total Bandwidth",
  totalTraffic: "Total Traffic",
  maxClients: "Max Clients",
  workerStats: "Worker Statistics",
  connections: "Connections",
  noConnections: "No connections",
  noWorkerStats: "No worker statistics available.",
  client: "Client",
  service: "Service",
  state: "State",
  duration: "Duration",
  bandwidth: "Bandwidth",
  dataSent: "Data Sent",
  queueDrops: "Queue & Drops",
  action: "Action",
  disconnect: "Disconnect",
  disconnecting: "Disconnecting…",
  showDisconnected: "Show disconnected clients",
  logs: "Logs",
  logLevel: "Log level",
  connected: "Connected",
  disconnected: "Disconnected",
  reconnecting: "Reconnecting…",
  workerPid: "Worker PID",
  slowClient: "Slow client",
  drops: "Drops",
  dropped: "Dropped",
  events: "events",
  bufferPool: "Buffer pool",
  controlPool: "Control pool",
  sendStats: "Send stats",
  clientsPerWorker: "Clients",
  language: "Language",
  appearance: "Appearance",
  themeAuto: "Auto",
  themeLight: "Light",
  themeDark: "Dark",
  lastUpdated: "Last updated",
  dropBytes: "Dropped bytes",
  queueUsage: "Queue usage",
  version: "Version",
};

const zhHans: TranslationDict = {
  title: "rtp2httpd 状态",
  uptime: "运行时间",
  totalClients: "活跃连接",
  totalBandwidth: "总带宽",
  totalTraffic: "累计流量",
  maxClients: "最大连接数",
  workerStats: "工作进程统计",
  connections: "连接",
  noConnections: "暂无连接",
  noWorkerStats: "暂无工作进程统计",
  client: "客户端",
  service: "服务",
  state: "状态",
  duration: "时长",
  bandwidth: "带宽",
  dataSent: "已发送",
  queueDrops: "队列与丢包",
  action: "操作",
  disconnect: "断开",
  disconnecting: "正在断开…",
  showDisconnected: "显示已断开连接",
  logs: "日志",
  logLevel: "日志级别",
  connected: "已连接",
  disconnected: "已断开",
  reconnecting: "重新连接中…",
  workerPid: "工作进程 PID",
  slowClient: "慢客户端",
  drops: "丢包",
  dropped: "已丢弃",
  events: "事件",
  bufferPool: "缓冲池",
  controlPool: "控制池",
  sendStats: "发送统计",
  clientsPerWorker: "连接数",
  language: "语言",
  appearance: "外观",
  themeAuto: "自动",
  themeLight: "浅色",
  themeDark: "深色",
  lastUpdated: "更新时间",
  dropBytes: "丢弃字节",
  queueUsage: "队列占用",
  version: "版本",
};

const zhHant: TranslationDict = {
  title: "rtp2httpd 狀態",
  uptime: "運行時間",
  totalClients: "活躍連線",
  totalBandwidth: "總頻寬",
  totalTraffic: "累計流量",
  maxClients: "最大連線數",
  workerStats: "工作行程統計",
  connections: "連線",
  noConnections: "暫無連線",
  noWorkerStats: "暫無工作行程統計",
  client: "客戶端",
  service: "服務",
  state: "狀態",
  duration: "時長",
  bandwidth: "頻寬",
  dataSent: "已傳送",
  queueDrops: "佇列與丟包",
  action: "操作",
  disconnect: "中斷",
  disconnecting: "正在中斷…",
  showDisconnected: "顯示已中斷連線",
  logs: "日誌",
  logLevel: "日誌等級",
  connected: "已連線",
  disconnected: "已斷線",
  reconnecting: "重新連線中…",
  workerPid: "工作行程 PID",
  slowClient: "慢速客戶端",
  drops: "丟包",
  dropped: "已丟棄",
  events: "事件",
  bufferPool: "緩衝池",
  controlPool: "控制池",
  sendStats: "傳送統計",
  clientsPerWorker: "連線數",
  language: "語言",
  appearance: "外觀",
  themeAuto: "自動",
  themeLight: "淺色",
  themeDark: "深色",
  lastUpdated: "更新時間",
  dropBytes: "丟棄位元組",
  queueUsage: "佇列使用率",
  version: "版本",
};

export const translations: Record<Locale, TranslationDict> = {
  en: base,
  "zh-Hans": { ...base, ...zhHans },
  "zh-Hant": { ...base, ...zhHant },
};

export type TranslationKey = keyof typeof base;

export function translate(locale: Locale, key: TranslationKey): string {
  return translations[locale][key] ?? base[key];
}
